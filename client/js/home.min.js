Vue.component("baddies-ranking",{template:`\n    <div class="ranking">\n        <span class="title">\n            {{tier.name}}\n        </span>     \n        <span class="rank" :class="rarity_text(region_rank(tier.key))">\n            {{region_rank(tier.key)}}\n        </span>\n        <span class="bosses">\n            {{boss_kills(tier.key)}}\n        </span>\n    </div>\n    `,props:{tier:{type:Object},progression:{type:Object}},methods:{prettyTierName(name){return name.split("-")[0]},region_rank(name){if(this.progression.ranks[name])return this.progression.ranks[name].mythic.region;return""},boss_kills(name){if(this.progression.progression[name])return this.progression.progression[name].summary.split(" ").join("");return""},rarity_text(rank){if(rank<=10)return"text-legendary";if(rank>10&&rank<=100)return"text-epic";else return"text-rare"}}});Vue.component("baddies-progression",{template:`\n    <div class="progress" v-cloak>\n            \n        <h2>Times</h2>\n        \n        \n        <div class="schedule">\n            <h4>Days</h4>\n            <div class="days">Tuesday, Wednesday, and Thursday</div>\n            <h4>Times</h4>\n            <div class="times">8:00 - 11:00 CST</div>\n        </div>\n        \n        <div class="current">\n            <h2 class="boss-kills" v-if="progression">\n                \n            </h2>\n            <div class="tier-name text-baddies">{{prettyTierName("ny'alotha-the-waking-city")}}</div>\n            <h2 class="current-rank" v-if="progression.progression">\n                <span class="faux-break"></span>\n                US {{region_rank('nyalotha-the-waking-city')}} | {{boss_kills('nyalotha-the-waking-city')}}\n            </h2>\n        </div>\n        \n        <div class="extended">\n        \n            <div class="ranking">\n                <h4 class="title">Raid</h4>\n                <h4 class="rank">Rank</h4>\n                <h4 class="bosses">Kills</h4>\n            </div>\n            \n            <baddies-ranking \n                v-for="tier in tiers" \n                :key="tier.key" \n                :tier="tier" \n                :progression="progression"\n            ></baddies-ranking>\n            \n            <div class="other-tiers">\n                <a href="https://www.wowprogress.com/guild/us/stormreaver/Baddies">\n                    Browse all tiers since Cataclysm\n                </a>\n            </div>\n        \n        </div>\n\n    </div>`,props:{type:{type:String,validator(value){return["short","long"].indexOf(value)!==-1}}},data(){return{tiers:[{name:"Eternal Palace",key:"the-eternal-palace"},{name:"Battle of Dazar'alor",key:"battle-of-dazaralor"}],progression:{progression:{},ranks:{}}}},methods:{getCurrentProgression(){DynamicSuite.call("baddies-home","progression.get",{},response=>{this.progression=response.data})},prettyTierName(name){return name.split("-")[0]},tierList(){return Object.keys(this.progression.progression)},region_rank(name){if(this.progression.ranks[name])return this.progression.ranks[name].mythic.region;return"Loading"},boss_kills(name){if(this.progression.progression[name])return this.progression.progression[name].summary.split(" ").join("");return"Loading"}},mounted(){this.getCurrentProgression()}});let instance=new Vue({el:"#home"});